<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Pesteczka OS - Profesjonalny system generowania ofert">
    <meta name="theme-color" content="#667eea">
    <title>Pesteczka OS - Premium Business System</title>
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üå∞</text></svg>">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <!-- Local Libraries -->
    <script src="src/assets/vendor/chart.min.js"></script>
    <script src="src/assets/vendor/jspdf.umd.min.js"></script>
    <script src="src/assets/vendor/jspdf.plugin.autotable.min.js"></script>
    <script src="src/assets/vendor/pdfmake.min.js"></script>
    <script src="src/assets/vendor/pdfmake.min.js"></script>
    <script src="src/assets/vendor/vfs_fonts.js"></script>
    <script src="src/assets/vendor/html2canvas.min.js"></script>
    
    <!-- Styles -->
    <link rel="stylesheet" href="src/assets/style.css">
</head>
<body class="login-page">
    <!-- LOADING OVERLAY -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <div class="loading-text">Generowanie dokumentu...</div>
        </div>
    </div>

    <!-- NOTIFICATIONS -->
    <div class="notification" id="notification">
        <div class="notification-icon">‚úÖ</div>
        <div class="notification-content">
            <div class="notification-title">Powiadomienie</div>
            <div class="notification-message">Wiadomo≈õƒá</div>
        </div>
    </div>

    <!-- LOGIN SCREEN -->
    <div class="login-screen" id="loginScreen">
        <div class="login-container">
            <div class="login-logo">üå∞</div>
            <h1 class="login-title">Pesteczka OS</h1>
            <p class="login-subtitle">Profesjonalny system dla biznesu</p>

            <div class="profile-selector" id="profileSelector">
                <!-- Profiles will be loaded dynamically -->
                <div class="loading-content" style="background: transparent; box-shadow: none;">
                    <div class="loading-spinner"></div>
                    <div class="loading-text" style="color: #6b7280;">≈Åadowanie profili...</div>
                </div>
            </div>
        </div>
        
        <div class="login-footer">
            Stworzone z ‚ù§Ô∏è przez Paw≈Ça Steczkƒô - <a href="https://pesteczka.com" target="_blank" style="color: white; text-decoration: none;">pesteczka.com</a>
        </div>
    </div>

    <!-- DESKTOP -->
    <div class="desktop" id="desktop">
        <!-- Desktop Icons -->
        <div class="desktop-icons" id="desktopIcons">
            <!-- Ikony pulpitu bƒôdƒÖ ≈Çadowane dynamicznie -->
        </div>

        <!-- WINDOW: Zam√≥wienie Domator -->
        <div class="window" id="window-domator" role="dialog" aria-labelledby="window-domator-title" style="top: 60px; left: 120px; width: 85vw; height: 80vh;">
            <div class="window-header">
                <div class="window-title">
                    <span class="window-title-icon">üöö</span>
                    <span id="window-domator-title">Generator Zam√≥wie≈Ñ Domator</span>
                </div>
                <div class="window-controls">
                    <button class="window-control-btn minimize" data-action="minimize" aria-label="Minimalizuj">‚àí</button>
                    <button class="window-control-btn maximize" data-action="maximize" aria-label="Maksymalizuj">‚ñ°</button>
                    <button class="window-control-btn close" data-action="close" aria-label="Zamknij">‚úï</button>
                </div>
            </div>
            <div class="window-content domator-container">
                <!-- Content will be loaded from the plugin -->
            </div>
        </div>

        <!-- WINDOW: Generator Ofert -->
        <div class="window" id="window-offers" role="dialog" aria-labelledby="window-offers-title" style="top: 40px; left: 80px; width: 92vw; height: 88vh;">
            <div class="window-header">
                <div class="window-title">
                    <span class="window-title-icon">üìÑ</span>
                    <span id="window-offers-title">Generator Ofert Premium</span>
                </div>
                <div class="window-controls">
                    <button class="window-control-btn minimize" data-action="minimize" aria-label="Minimalizuj">‚àí</button>
                    <button class="window-control-btn maximize" data-action="maximize" aria-label="Maksymalizuj">‚ñ°</button>
                    <button class="window-control-btn close" data-action="close" aria-label="Zamknij">‚úï</button>
                </div>
            </div>
            <div class="window-content">
                <!-- Content will be loaded from the plugin -->
            </div>
        </div>

        <!-- WINDOW: Dashboard -->
        <div class="window" id="window-dashboard" role="dialog" aria-labelledby="window-dashboard-title" style="top: 100px; left: 150px; width: 900px; height: 600px;">
            <div class="window-header">
                <div class="window-title">
                    <span class="window-title-icon">üìä</span>
                    <span id="window-dashboard-title">Dashboard</span>
                </div>
                <div class="window-controls">
                    <button class="window-control-btn minimize" data-action="minimize" aria-label="Minimalizuj">‚àí</button>
                    <button class="window-control-btn maximize" data-action="maximize" aria-label="Maksymalizuj">‚ñ°</button>
                    <button class="window-control-btn close" data-action="close" aria-label="Zamknij">‚úï</button>
                </div>
            </div>
            <div class="window-content" style="padding: 1.5rem; display: flex; flex-direction: column; gap: 1.5rem;">
                <!-- Content will be loaded from the plugin -->
            </div>
        </div>

        <!-- WINDOW: Settings -->
        <div class="window" id="window-settings" role="dialog" aria-labelledby="window-settings-title" style="top: 80px; left: 200px; width: 800px; height: 650px;">
            <div class="window-header">
                <div class="window-title">
                    <span class="window-title-icon">‚öôÔ∏è</span>
                    <span id="window-settings-title">Ustawienia</span>
                </div>
                <div class="window-controls">
                    <button class="window-control-btn minimize" data-action="minimize" aria-label="Minimalizuj">‚àí</button>
                    <button class="window-control-btn maximize" data-action="maximize" aria-label="Maksymalizuj">‚ñ°</button>
                    <button class="window-control-btn close" data-action="close" aria-label="Zamknij">‚úï</button>
                </div>
            </div>
            <div class="window-content">
                <!-- Content will be loaded from the plugin -->
            </div>
        </div>

        <!-- WINDOW: Neon Snake -->
        <div class="window" id="window-snake" role="dialog" aria-labelledby="window-snake-title" style="top: 120px; left: 250px; width: 640px; height: 520px;">
            <div class="window-header">
                <div class="window-title">
                    <span class="window-title-icon">üêç</span>
                    <span id="window-snake-title">Neon Snake</span>
                </div>
                <div class="window-controls">
                    <button class="window-control-btn minimize" data-action="minimize" aria-label="Minimalizuj">‚àí</button>
                    <button class="window-control-btn maximize" data-action="maximize" aria-label="Maksymalizuj">‚ñ°</button>
                    <button class="window-control-btn close" data-action="close" aria-label="Zamknij">‚úï</button>
                </div>
            </div>
            <div class="window-content" style="padding: 0; overflow: hidden; background: #0f172a;">
                <canvas id="snakeCanvas"></canvas>
            </div>
        </div>

        <!-- TASKBAR -->
        <div class="taskbar">
            <div class="taskbar-center">
                <div class="taskbar-icon" id="startBtn" tabindex="0" role="button" aria-label="Menu Start" aria-haspopup="true">
                    üå∞
                </div>
                <!-- Icons will be dynamically injected here -->
            </div>
            
            <div class="taskbar-right">
                <div class="system-tray">
                    <span class="system-icon" title="Wifi">üì∂</span>
                    <span class="system-icon" title="D≈∫wiƒôk">üîä</span>
                    <span class="system-icon" title="Bateria">üîã</span>
                </div>
                <div class="clock" id="clock" tabindex="0" role="button" aria-label="Data i godzina">
                    <div class="clock-time">--:--</div>
                    <div class="clock-date">-- --- ----</div>
                </div>
            </div>
        </div>

        <!-- START MENU -->
        <div class="start-menu" id="startMenu" role="menu">
            <div class="start-menu-header">
                <div class="start-apps-title">üìå Przypiƒôte aplikacje</div>
                <div class="start-apps-grid">
                    <!-- Apps will be dynamically injected here -->
                </div>
            </div>
            <div class="start-menu-footer">
                <div class="start-user">
                    <div class="start-user-avatar" id="userAvatar">--</div>
                    <div>
                        <div class="start-user-name" id="userName">≈Åadowanie...</div>
                        <div class="start-user-email" id="userEmail">---</div>
                    </div>
                </div>
                <button class="power-btn" id="logoutBtn">
                    <span>‚èª</span> Wyloguj
                </button>
                <button class="power-btn shutdown-btn" id="closeAppBtn" style="margin-top: 5px;">
                    <span>&#10006;</span> Zamknij
                </button>
            </div>
        </div>
    </div>

    <!-- CONTEXT MENU -->
    <div class="context-menu" id="contextMenu">
        <div class="context-menu-item" data-action="change-wallpaper">
            <span>üñºÔ∏è</span> Zmie≈Ñ tapetƒô
        </div>
        <div class="context-menu-item" data-action="add-icon">
            <span>‚ûï</span> Dodaj nowƒÖ ikonƒô
        </div>
        <div class="context-menu-separator"></div>
        <div class="context-menu-item" data-action="logout">
            <span>‚èª</span> Wyloguj
        </div>
    </div>

    <!-- Scripts -->
    <script src="src/core/storage.js"></script>
    <script src="src/core/ui.js"></script>
    <script src="src/core/pdf.js"></script>
    <script src="src/core/pluginLoader.js"></script>
    <script src="src/core/app.js"></script>
</body>
</html>
