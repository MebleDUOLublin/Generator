<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Pesteczka OS - Profesjonalny system generowania ofert">
    <meta name="theme-color" content="#667eea">
    <title>Pesteczka OS - Premium Business System</title>
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸŒ°</text></svg>">
    
    <!-- Fonts -->
    
    <!-- Local Libraries -->
    <script src="src/assets/vendor/chart.min.js"></script>
    <script src="src/assets/vendor/jspdf.umd.min.js"></script>
    <script src="src/assets/vendor/jspdf.plugin.autotable.min.js"></script>
    <script src="src/assets/vendor/pdfmake.min.js"></script>
    <script src="src/assets/vendor/pdfmake.min.js.map"></script>
    <script src="src/assets/vendor/vfs_fonts.js"></script>
    <script src="src/assets/vendor/html2canvas.min.js"></script>
    
    <!-- Styles -->
    <link rel="stylesheet" href="src/assets/style.css">
</head>
<body class="login-page">
    <!-- LOADING OVERLAY -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <div class="loading-text">Generowanie dokumentu...</div>
        </div>
    </div>

    <!-- NOTIFICATIONS -->
    <div class="notification" id="notification">
        <div class="notification-icon">âœ…</div>
        <div class="notification-content">
            <div class="notification-title">Powiadomienie</div>
            <div class="notification-message">WiadomoÅ›Ä‡</div>
        </div>
    </div>

    <!-- LOGIN SCREEN -->
    <div class="login-screen" id="loginScreen">
        <div class="login-container">
            <div class="login-logo">ğŸŒ°</div>
            <h1 class="login-title">Pesteczka OS</h1>
            <p class="login-subtitle">Profesjonalny system dla biznesu</p>

            <div class="profile-selector" id="profileSelector">
                <!-- Profiles will be loaded dynamically -->
                <div class="loading-content" style="background: transparent; box-shadow: none;">
                    <div class="loading-spinner"></div>
                    <div class="loading-text" style="color: #6b7280;">Åadowanie profili...</div>
                </div>
            </div>
        </div>
        
        <div class="login-footer">
            Stworzone z â¤ï¸ przez PawÅ‚a SteczkÄ™ - <a href="https://pesteczka.com" target="_blank" style="color: white; text-decoration: none;">pesteczka.com</a>
        </div>
    </div>

    <!-- DESKTOP -->
    <div class="desktop" id="desktop">
        <!-- Desktop Icons -->
        <div class="desktop-icons" id="desktopIcons">
            <!-- Ikony pulpitu bÄ™dÄ… Å‚adowane dynamicznie -->
        </div>

        <!-- Dynamic windows will be injected here by the Window Manager -->

        <!-- TASKBAR -->
        <div class="taskbar">
            <div class="taskbar-center">
                <div class="taskbar-icon" id="startBtn" tabindex="0" role="button" aria-label="Menu Start" aria-haspopup="true">
                    ğŸŒ°
                </div>
                <!-- Icons will be dynamically injected here -->
            </div>
            
            <div class="taskbar-right">
                <div class="system-tray">
                    <span class="system-icon" title="Wifi">ğŸ“¶</span>
                    <span class="system-icon" title="DÅºwiÄ™k">ğŸ”Š</span>
                    <span class="system-icon" title="Bateria">ğŸ”‹</span>
                </div>
                <div class="clock" id="clock" tabindex="0" role="button" aria-label="Data i godzina">
                    <div class="clock-time">--:--</div>
                    <div class="clock-date">-- --- ----</div>
                </div>
            </div>
        </div>

        <!-- START MENU -->
        <div class="start-menu" id="startMenu" role="menu">
            <div class="start-menu-header">
                <div class="start-apps-title">ğŸ“Œ PrzypiÄ™te aplikacje</div>
                <div class="start-apps-grid">
                    <!-- Apps will be dynamically injected here -->
                </div>
            </div>
            <div class="start-menu-footer">
                <div class="start-user">
                    <div class="start-user-avatar" id="userAvatar">--</div>
                    <div>
                        <div class="start-user-name" id="userName">Åadowanie...</div>
                        <div class="start-user-email" id="userEmail">---</div>
                    </div>
                </div>
                <button class="power-btn" id="logoutBtn">
                    <span>â»</span> Wyloguj
                </button>
                <button class="power-btn shutdown-btn" id="closeAppBtn" style="margin-top: 5px;">
                    <span>&#10006;</span> Zamknij
                </button>
            </div>
        </div>
    </div>

    <!-- CONTEXT MENU -->
    <div class="context-menu" id="contextMenu">
        <div class="context-menu-item" data-action="change-wallpaper">
            <span>ğŸ–¼ï¸</span> ZmieÅ„ tapetÄ™
        </div>
        <div class="context-menu-separator"></div>
        <div class="context-menu-item" data-action="logout">
            <span>â»</span> Wyloguj
        </div>
    </div>

    <!-- Scripts -->
    <!-- Globals must be loaded first to create the PesteczkaOS namespace -->
    <script src="src/core/globals.js"></script>
    <script src="src/core/storage.js"></script>
    <script src="src/core/ui.js"></script>
    <script src="src/core/pdf.js"></script>
    <script src="src/core/pluginLoader.js"></script>
    <script src="src/core/app.js"></script>
</body>
</html>
